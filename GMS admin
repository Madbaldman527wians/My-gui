local CollectionService = game:GetService("CollectionService")
local CoreGui = game:GetService("CoreGui")
local G2L = {}

-- ScreenGui principal no CoreGui
G2L["GMSadmin_1"] = Instance.new("ScreenGui", CoreGui)
G2L["GMSadmin_1"].Name = "GMSadmin"
G2L["GMSadmin_1"].ZIndexBehavior = Enum.ZIndexBehavior.Sibling
CollectionService:AddTag(G2L["GMSadmin_1"], "main")

-- Frame Anti Detection Scripts
G2L["AntiDetectionFrame"] = Instance.new("Frame", G2L["GMSadmin_1"])
G2L["AntiDetectionFrame"].BackgroundColor3 = Color3.fromRGB(255, 255, 255)
G2L["AntiDetectionFrame"].AnchorPoint = Vector2.new(0.5, 0)
G2L["AntiDetectionFrame"].Size = UDim2.new(0, 418, 0, 132)
G2L["AntiDetectionFrame"].Position = UDim2.new(0.5, 12, 0, 226)
G2L["AntiDetectionFrame"].Name = "AntiDetectionFrame"
G2L["AntiDetectionFrame"].Visible = false -- começa oculto

-- UICorner e UIGradient
local corner = Instance.new("UICorner", G2L["AntiDetectionFrame"])
corner.CornerRadius = UDim.new(0, 13)

local gradient = Instance.new("UIGradient", G2L["AntiDetectionFrame"])
gradient.Rotation = 80
gradient.Offset = Vector2.new(0, 0.65)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0,0,0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0,0,255))
}

-- Título
local title = Instance.new("TextLabel", G2L["AntiDetectionFrame"])
title.Text = "Anti Detection Scripts"
title.TextWrapped = true
title.TextScaled = true
title.TextXAlignment = Enum.TextXAlignment.Left
title.BackgroundTransparency = 1
title.FontFace = Font.new([[rbxassetid://12187365364]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
title.TextColor3 = Color3.fromRGB(241,241,241)
title.Size = UDim2.new(0, 316, 0, 28)
title.Position = UDim2.new(0.04287, -6, 0.10006, -8)

-- Subtitle
local subtitle = Instance.new("TextLabel", G2L["AntiDetectionFrame"])
subtitle.Text = "Bypass List"
subtitle.TextWrapped = true
subtitle.TextScaled = true
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.TextTransparency = 0.3
subtitle.BackgroundTransparency = 1
subtitle.FontFace = Font.new([[rbxassetid://12187365364]], Enum.FontWeight.SemiBold, Enum.FontStyle.Normal)
subtitle.TextColor3 = Color3.fromRGB(255,255,255)
subtitle.Size = UDim2.new(0,160,0,18)
subtitle.Position = UDim2.new(0.043, 0, 0.2, 12)

-- Função para criar botões
local function criarBotao(nome, texto, posY, url)
    local btn = Instance.new("TextButton", G2L["AntiDetectionFrame"])
    btn.Name = nome
    btn.Text = texto
    btn.TextWrapped = true
    btn.TextScaled = true
    btn.BackgroundColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundTransparency = 1
    btn.FontFace = Font.new([[rbxasset://fonts/families/Arial.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
    btn.TextColor3 = Color3.fromRGB(193,193,193)
    btn.Size = UDim2.new(0,218,0,16)
    btn.Position = UDim2.new(0, 2, 0, posY)
    btn.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet(url))()
    end)
    return btn
end

-- Botões
criarBotao("AntiAdminBtn", "Anti admin", 66, "https://rawscripts.net/raw/Universal-Script-Anti-chat-admin-32647")
criarBotao("AntiKickBtn", "Anti Kick", 90, "https://raw.githubusercontent.com/ADSKerOffical/AntiCheat/main/Bypass")
criarBotao("NewindexBtn", "Newindex Bypass", 114, "https://rawscripts.net/raw/Baseplate-adonis-and-newindex-bypass-source-12378")

-- Retornar uma tabela com Toggle para o GUI principal
local SubGUI = {}
function SubGUI.Toggle()
    G2L["AntiDetectionFrame"].Visible = not G2L["AntiDetectionFrame"].Visible
end

return SubGUIG2L["Title"].Position = UDim2.new(0.04287, -6, 0.10006, -8)

-- Subtitle
G2L["Subtitle"] = Instance.new("TextLabel", G2L["AntiDetectionGUI"])
G2L["Subtitle"].Text = "Bypass List"
G2L["Subtitle"].TextWrapped = true
G2L["Subtitle"].TextScaled = true
G2L["Subtitle"].TextXAlignment = Enum.TextXAlignment.Left
G2L["Subtitle"].TextTransparency = 0.3
G2L["Subtitle"].BackgroundTransparency = 1
G2L["Subtitle"].FontFace = Font.new([[rbxassetid://12187365364]], Enum.FontWeight.SemiBold, Enum.FontStyle.Normal)
G2L["Subtitle"].TextColor3 = Color3.fromRGB(255, 255, 255)
G2L["Subtitle"].Size = UDim2.new(0, 160, 0, 18)
G2L["Subtitle"].Position = UDim2.new(0.043, 0, 0.2, 12)

-- Função para criar botões
local function criarBotao(nome, texto, posY, url)
    local btn = Instance.new("TextButton", G2L["AntiDetectionGUI"])
    btn.Name = nome
    btn.Text = texto
    btn.TextWrapped = true
    btn.TextScaled = true
    btn.BorderSizePixel = 0
    btn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    btn.BackgroundTransparency = 1
    btn.FontFace = Font.new([[rbxasset://fonts/families/Arial.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
    btn.TextColor3 = Color3.fromRGB(193, 193, 193)
    btn.Size = UDim2.new(0, 218, 0, 16)
    btn.Position = UDim2.new(0, 2, 0, posY)
    btn.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet(url))()
    end)
    return btn
end

-- Botões
criarBotao("AntiAdminBtn", "Anti admin", 66, "https://rawscripts.net/raw/Universal-Script-Anti-chat-admin-32647")
criarBotao("AntiKickBtn", "Anti Kick", 90, "https://raw.githubusercontent.com/ADSKerOffical/AntiCheat/main/Bypass")
criarBotao("NewindexBtn", "Newindex Bypass", 114, "https://rawscripts.net/raw/Baseplate-adonis-and-newindex-bypass-source-12378")

-- Tabela para exportação compatível com script principal
local SubGUI = {}

function SubGUI.Toggle()
    G2L["AntiDetectionGUI"].Visible = not G2L["AntiDetectionGUI"].Visible
end

